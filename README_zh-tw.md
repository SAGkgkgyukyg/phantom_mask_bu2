# Phantom Mask
您需要為一個藥局平台建構後端服務和資料庫，僅使用 RESTful APIs 進行通訊。

## A. 原始資料
1. [藥局資料](data/pharmacies.json)：此資料集包含藥局清單，包括名稱、營業時間、現金餘額和口罩產品。
2. [使用者資料](data/users.json)：此資料集包含使用者清單，包括名稱、現金餘額和購買歷史記錄。

> 這些資料集為原始資料，表示您可以在將資料載入資料庫之前，先進行處理和轉換。

## B. 任務需求
此任務基於產品經理的開發需求。目標是建構一個具有完整文件的 API 伺服器和關聯式資料庫，以支援前端團隊的整合和開發。

前端團隊將依賴 API 文件來建構用戶端應用程式。因此，API 必須清晰、完整，並支援以下操作，以確保資料能夠快速且直觀地被存取和互動。

以下是所需功能：
1. 列出藥局，可選擇性地依據特定時間和/或星期幾進行篩選。
2. 列出指定藥局販售的所有口罩，可選擇依名稱或價格排序。
3. 列出提供指定價格範圍內口罩產品數量的所有藥局，其中數量高於、低於或介於給定門檻之間。
4. 顯示在特定日期範圍內購買口罩花費最多的前 N 位使用者。
5. 處理使用者同時從多家藥局購買口罩的購買流程。
6. 透過增加或減少來更新現有口罩產品的庫存數量。
7. 同時為一家藥局建立或更新多個口罩產品，包括名稱、價格和庫存數量。
8. 依名稱搜尋藥局或口罩，並依搜尋詞的相關性對結果進行排名。

> 如果您發現需求描述不夠詳細，請將您的解決方案設計得儘可能實用和可行。

## C. 交付項目
1. Fork 或複製此儲存庫到您的 GitHub 帳戶。
2. 在 [response.md](response.md) 中撰寫您工作的介紹。
3. 完成任務後請透過電子郵件通知人資部門。請包含必要的詳細資訊，如您的 GitHub 帳戶和儲存庫 URL。

儲存庫必須包含：
1. API 介面的文件。
2. 執行 ETL（萃取、轉換和載入）腳本的指令，該腳本處理原始資料集並將其載入資料庫。
3. 設定伺服器和資料庫的指令。
4. 提供清楚簡潔的本地部署應用程式說明。

需避免的常見錯誤：
1. 缺少文件。
2. 專案不符合功能需求。
3. 解決方案不符合要求。
4. 版本控制實務不佳。

## D. 審查流程
您的專案將由至少一位後端工程師進行審查，並依據以下標準進行評估。
* **需求**
  * 實作是否符合第 B 部分中定義的所有任務需求
* **設計**
  * **資料庫**
    * 適當的資料表正規化、清楚的欄位名稱和資料型別
    * 定義良好的關聯性；索引規劃平衡效能與可維護性
    * 強健的遷移設定以確保順利部署和回滾。
  * **API**
    * 資料庫設計是否滿足需求並保持易於理解和擴展？
    * 原始資料在載入資料庫前是否有效匯入和清理？
    * API 邏輯是否滿足需求並反映現實世界的情境？
  * **架構：**
    * 設計模式是否符合框架的指引？
    * 如果使用框架，解決方案是否避免重複發明輪子？
* **實作**
  * **程式碼品質**
    * **可讀性**：程式碼是否易於閱讀和理解？命名慣例是否具描述性且一致？邏輯是否清晰？
    * **效能**：程式碼是否高效？是否避免冗餘計算或不必要的查詢？
    * **可維護性**：程式碼是否模組化且易於維護或擴展？是否包含適當的錯誤處理和有用的註解？
  * **完成度**
    * 當 API 被呼叫時避免任何 5xx 錯誤。
    * 提交前請仔細檢查拼寫和語法錯誤。
  * **安全性**
    * 符合 OWASP Top 10；防止 SQLi / XSS / CSRF 等。
    * 秘密和金鑰不得在原始碼中硬編碼
* **單元測試**
  * 涵蓋主要的成功和失敗情境，並提供覆蓋率報告以供驗證。
  * 測試案例應具可讀性且相互獨立。
* **部署**
  * 應用程式應可在本地部署（例如使用 Docker 或其他方式）或在免費層雲端託管平台上部署（例如 [fly.io](https://fly.io/docs/speedrun/)、[render](https://render.com/docs/web-services) 或類似平台）。
  * 如果使用 Docker，評估將包括審查 Dockerfile 和/或 docker-compose 配置。
  * 如果使用其他部署方法，評估將專注於部署步驟和程序的清晰度和完整性。
* **文件**
  * 提供完整且一致的 API 文件。每個端點應清楚描述：
    * 路徑和 HTTP 方法
    * 請求參數（路徑、查詢、主體）
    * 回應格式和範例
    * 錯誤回應格式（包括代碼和訊息）文件應與程式碼庫保持同步。